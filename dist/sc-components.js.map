{"version":3,"sources":["index.js","confirm/confirm.js","confirm/confirm_test.js","dropdown/dropdown.js","dropdown/dropdown_test.js","enter/enter.js","enter/enter_test.js","form-input/form-input.js","list/list.js","list/list_test.js","listing/listing.js","listing/listing_test.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sc-components.js","sourcesContent":["'use strict';\n\nangular.module('sc-components', [\n  'sc-confirm',\n  'sc-dropdown',\n  'sc-enter',\n  'sc-list',\n  'sc-listing'\n]);\n","'use strict';\n\n/**\n * sc-confirm\n *\n * Similar to window.confirm but with modal window\n *\n * Dependencies\n *\n *    ui.bootstrap\n *\n * Make sure you include the source files of ui.bootstrap.modal\n *\n * Usage\n *\n *  <a sc-confirm=\"remove()\"\n *    sc-confirm-message=\"Are you sure custom message?\"\n *    sc-on-cancel=\"cancel()\"\n *    template-url=\"'/templates/confirm.html'\"\n *    btn-placement=\"'left'\"\n *    item=\"resource\">\n *  </a>\n */\n\nangular.module('sc-confirm', [\n  'ui.bootstrap'\n])\n\n/**\n * Constants\n */\n\n.constant('scConfirmDefaults', {\n  message: 'Are you sure ?',\n  btnPlacement: 'right'\n})\n\n.directive('scConfirm', [\n  '$modal', '$compile', '$parse', '$http', '$q', '$templateCache', 'scConfirmDefaults',\n  function ($modal, $compile, $parse, $http, $q, $templateCache, defaults) {\n    return {\n      restrict: 'A',\n      scope: {\n        scConfirm: '&',\n        scOnCancel: '&'\n      },\n      link: function(scope, element, attrs) {\n        var isDefined = angular.isDefined;\n        var deferred = $q.defer();\n        var promise = deferred.promise;\n        var validPlacements = ['left', 'center', 'right'];\n        var btnPlacement;\n        var template;\n        var templateUrl;\n\n        // Parse attrs\n\n        // template and template-url\n        if (isDefined(attrs.template)) {\n          template = scope.$parent.$eval(attrs.template);\n          deferred.resolve(template);\n        } else if (isDefined(attrs.templateUrl)) {\n          templateUrl = scope.$parent.$eval(attrs.templateUrl);\n          $http.get(templateUrl, { cache: $templateCache })\n            .success(function (html) {\n              deferred.resolve(html);\n            })\n            .error(deferred.reject);\n        } else {\n          deferred.resolve('');\n        }\n\n        // btn-placement\n        if (isDefined(attrs.btnPlacement)) {\n          btnPlacement = scope.$parent.$eval(attrs.btnPlacement);\n        }\n\n        if (!~validPlacements.indexOf(btnPlacement)) {\n          btnPlacement = defaults.btnPlacement;\n        }\n\n        promise.then(function (tpl) {\n          var message = attrs.scConfirmMessage || defaults.message;\n          var modalHtml = [\n            '<div class=\"modal-header\">',\n            '  <button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-hidden=\"true\">&times;</button>',\n            '  <h4 class=\"modal-title\">'+ message +'</h4>',\n            '</div>',\n            '<div class=\"modal-body\">',\n            '  '+ tpl +'&nbsp;',\n            '</div>',\n            '<div class=\"modal-footer sc-'+ btnPlacement +'\">',\n            '  <button class=\"btn btn-primary\" ng-click=\"ok()\">Yes</button>',\n            '  <button class=\"btn btn-link\" ng-click=\"cancel()\">Cancel</button>',\n            '</div>'\n          ].join('\\n');\n\n          element.bind('click', function () {\n            var modalInstance = $modal.open({\n              template: modalHtml,\n              controller: 'ModalInstanceCtrl',\n              scope: scope.$parent,\n              resolve: {\n                scOnCancel: function () { return scope.scOnCancel; }\n              }\n            });\n\n            modalInstance.result.then(scope.scConfirm);\n          });\n        });\n      }\n    };\n  }\n])\n\n/**\n * scConfirm Modal Controller\n */\n\n.controller('ModalInstanceCtrl', [\n  '$scope', '$modalInstance', 'scOnCancel',\n  function ($scope, $modalInstance, scOnCancel) {\n    $scope.ok = $modalInstance.close;\n    $scope.cancel = function () {\n      $scope.$parent.$eval(scOnCancel);\n      $modalInstance.dismiss('cancel');\n    };\n  }\n]);\n\n// TODO: give a provider\n","'use strict';\n\ndescribe('sc-confirm', function () {\n  var $document;\n  var elm;\n  var scope;\n  var templateCache;\n  var compile;\n  var timeout;\n\n  beforeEach(module('ui.bootstrap'));\n  beforeEach(module('sc-confirm'));\n  beforeEach(module(\n    'src/confirm/template.html',\n    'src/confirm/template-url.html',\n    'src/confirm/no-template.html',\n    'src/confirm/confirm.html'\n  ));\n\n  beforeEach(inject(function ($rootScope, $compile, _$document_, $timeout, $templateCache) {\n    $document = _$document_;\n    scope = $rootScope;\n    templateCache = $templateCache;\n    compile = $compile;\n    timeout = $timeout;\n\n    scope.template = 'src/confirm/confirm.html';\n    scope.remove = function (item) {\n      scope.answer = 'You confirmed ' + item.name;\n    };\n\n    scope.cancel = function (item) {\n      scope.answer = 'Oops, you cancelled ' + item.name;\n    };\n\n    scope.item = {\n      id: 1,\n      name: 'test'\n    };\n  }));\n\n  /**\n   * Setup\n   */\n\n  function setup (type) {\n    var tpl = templateCache.get('src/confirm/'+ type +'.html');\n    elm = angular.element(tpl);\n    angular.element('body').append(elm);\n    compile(elm)(scope);\n    scope.$digest();\n\n    $document.find('body a').trigger('click');\n    inject(function ($transition) {\n      // This is always called when transition ends\n      timeout.flush();\n    });\n  }\n\n  describe('sc-confirm-message', function () {\n    it('should open the modal window with given message', function () {\n      setup('template-url');\n      var title = $document.find('.modal-title');\n      expect(title.text()).toContain('Are you sure you want to remove this');\n    });\n  });\n\n  describe('template-url', function () {\n    it('should load the template provided', function () {\n      setup('template-url');\n      var body = $document.find('.modal-body');\n      expect(body.text()).toContain('We are going to remove all the occurances of item');\n      expect(body.find('p').length).toBe(1);\n      expect(body.find('p strong').length).toBe(1);\n      expect(body.find('p strong').text()).toBe('test');\n    });\n  });\n\n  describe('sc-confirm', function () {\n    it('should call the confirm method when confirmed', function () {\n      setup('template-url');\n      $document.find('.modal-footer .btn-primary').trigger('click');\n      var answer = $document.find('.answer');\n      expect(answer.text()).toBe('You confirmed test');\n    });\n  });\n\n  describe('sc-cancel', function () {\n    it('should call the cancel method when cancelled', function () {\n      setup('template-url');\n      // click on cancel\n      $document.find('.modal-footer .btn-link').trigger('click');\n      var answer = $document.find('.answer');\n      expect(answer.text()).toBe('Oops, you cancelled test');\n    });\n  });\n\n  describe('template', function () {\n    it('should use the template when provided', function () {\n      scope.template = '<div class=\"remove\">All will be removed</div>';\n      setup('template');\n      var body = $document.find('.modal-body');\n      expect(body.find('.remove').length).toBe(1);\n      expect(body.text()).toContain('All will be removed');\n    });\n  });\n\n  it('should display no modal body when no template is given', function () {\n    setup('no-template');\n    var body = $document.find('.modal-body');\n    expect($.trim(body.text())).not.toBeTruthy();\n  });\n\n  it('should display default message when none provided', function () {\n    setup('no-template');\n    var title = $document.find('.modal-title');\n    expect(title.text()).toContain('Are you sure ?');\n  });\n\n  describe('btn-placement', function () {\n    it('should add appropriate class to footer', function () {\n      setup('no-template');\n      var footer = $document.find('.modal-footer');\n      expect(footer.attr('class')).toContain('sc-left');\n    });\n\n    it('should add default class when invalid', function () {\n      setup('template-url');\n      var footer = $document.find('.modal-footer');\n      expect(footer.attr('class')).toContain('sc-right');\n    });\n  });\n\n  // Cleanup\n  afterEach(function () {\n    angular.element('body').empty();\n  });\n});\n","'use strict';\n\n/**\n * sc-dropdown\n *\n * dropdowns\n *\n * Dependencies\n *\n *    sc-listing\n *    ui.bootstrap\n *\n * Usage:\n *\n *    <sc-dropdown\n *      items=\"items\"\n *      attribute=\"'name'\"\n *      default=\"expression\"\n *      label=\"'Choose assignee'\"\n *      type=\"'simple'\" // or 'single' or 'split'\n *      on-select=\"doSomething\">\n *    </sc-dropdown>\n *\n * There are 3 types of dropdowns available.\n *   - simple: a simple anchor link (default)\n *   - single: a button with dropdown\n *   - split: a button with split caret as dropdown\n */\n\nangular.module('sc-dropdown', [\n  'sc-listing',\n  'ui.bootstrap'\n])\n\n/**\n * Constants\n */\n\n.constant('scDropdownDefaults', {\n  btnClass: 'btn btn-',\n  btnDefault: 'link',\n  type: 'simple',\n  label: 'Choose from the list'\n})\n\n.directive('scDropdown', ['$compile', 'scDropdownDefaults', function ($compile, defaults) {\n  return {\n    restrict: 'E',\n    scope: {\n      items: '='\n    },\n    link: function (scope, element, attrs) {\n      var isDefined = angular.isDefined;\n      var isFunction = angular.isFunction;\n      var validTypes = ['simple', 'single', 'split'];\n      var dropdown = {};\n      var labelTpl;\n\n      // defaults\n      var btnClass = defaults.btnClass;\n      var btnDefault = defaults.btnDefault;\n      var type = defaults.type;\n      var label = defaults.label;\n\n      // Parse\n\n      // attribute\n      var attribute = scope.$parent.$eval(attrs.attribute);\n\n      // type\n      if (isDefined(attrs.type)) {\n        type = scope.$parent.$eval(attrs.type);\n        type = !~validTypes.indexOf(type)\n          ? 'simple'\n          : type;\n      }\n\n      // label\n      if (isDefined(attrs.label)) {\n        scope.label = scope.$parent.$eval(attrs.label);\n      }\n\n      // default\n      if (isDefined(attrs.default)) {\n        label = scope.$parent.$eval(attrs.default);\n        scope.item = isFunction(label)\n          ? label()\n          : label;\n        label = scope.item;\n      }\n      scope.label = scope.label || label;\n\n      // btn-class\n      if (isDefined(attrs.btnClass)) {\n        btnDefault = scope.$parent.$eval(attrs.btnClass);\n      }\n      btnClass = btnClass + btnDefault;\n\n      // on-select\n      var onSelect = scope.$parent.$eval(attrs.onSelect);\n\n      // Check if the items is an array of objects or strings\n      // and depending on that, build the template\n\n      if (typeof scope.items[0] !== 'string') {\n        labelTpl = '{{ item[\\''+ attribute +'\\'] || label }}';\n        scope.template = '<a href>{{ item[\\''+ attribute +'\\'] }}</a>';\n      } else {\n        labelTpl = '{{ item || label }}';\n        scope.template = '<a href>{{ item }}</a>';\n      }\n\n      scope.select = function (item) {\n        scope.item = item;\n        onSelect(item);\n      };\n\n      var listing = [\n        '  <sc-listing class=\"dropdown-menu\"',\n        '    items=\"items\"',\n        '    on-item-click=\"select\"',\n        '    template=\"template\">',\n        '  </sc-listing>'\n      ].join('');\n\n      dropdown.simple = [\n        '<span class=\"dropdown\">',\n        '  <a href class=\"dropdown-toggle\">',\n        '    ' + labelTpl,\n        '  </a>',\n        '  ' + listing,\n        '</span>'\n      ].join('');\n\n      dropdown.single = [\n        '<div class=\"btn-group\" dropdown>',\n        '  <button type=\"button\" class=\"'+ btnClass +' dropdown-toggle\">',\n        '    ' + labelTpl + ' <span class=\"caret\"></span>',\n        '  </button>',\n        '  ' + listing,\n        '</div>'\n      ].join('');\n\n      dropdown.split = [\n        '<div class=\"btn-group\" dropdown>',\n        '  <button type=\"button\" class=\"'+ btnClass +'\">'+ labelTpl +'</button>',\n        '  <button type=\"button\" class=\"'+ btnClass +' dropdown-toggle\">',\n        '    <span class=\"caret\"></span>',\n        '  </button>',\n        '  ' + listing,\n        '</div>'\n      ].join('');\n\n      element.replaceWith($compile(dropdown[type])(scope));\n    }\n  };\n}]);\n","'use strict';\n\ndescribe('sc-dropdown', function () {\n  var $document;\n  var scope;\n  var compile;\n  var templateCache;\n  var timeout;\n\n  beforeEach(module('ui.bootstrap', 'sc-listing'));\n  beforeEach(module('sc-dropdown'));\n  beforeEach(module(\n    'src/dropdown/simple-defaults.html',\n    'src/dropdown/simple.html',\n    'src/dropdown/single.html',\n    'src/dropdown/split.html'\n  ));\n\n  beforeEach(inject(function ($rootScope, $compile, _$document_, $templateCache, $timeout) {\n    $document = _$document_;\n    scope = $rootScope;\n    compile = $compile;\n    templateCache = $templateCache;\n    timeout = $timeout;\n\n    scope.do = function (item) {\n      scope.selected = 'You selected ' + (item.name || item);\n    };\n\n    scope.arr = [\n      { name: 'black' },\n      { name: 'green' }\n    ];\n\n    scope.getDefault = function () {\n      return scope.arr[0];\n    };\n\n    scope.otherDefault = function () {\n      return 'Some other value';\n    };\n\n    scope.items = ['red', 'blue'];\n  }));\n\n  function dropdown (type) {\n    var tpl = templateCache.get('src/dropdown/' + type + '.html');\n    var elm = angular.element(tpl);\n    angular.element('body').append(elm);\n    compile(elm)(scope);\n    scope.$digest();\n  }\n\n  describe('type', function () {\n    // split\n    it('should provide a simple dropdown with default label', function () {\n      dropdown('simple');\n\n      var dd = $document.find('span.dropdown');\n      var menu = dd.find('ul.list.dropdown-menu');\n      var anchor = dd.find('a.dropdown-toggle');\n\n      expect(dd.length).toBe(1);\n      expect(anchor.text()).toContain('Choose from the list');\n\n      // click on element\n      anchor.trigger('click');\n\n      // opens the dropdown\n      expect(dd.attr('class')).toContain('open');\n      expect(menu.length).toBe(1);\n      expect(menu.find('li').length).toBe(2);\n      expect(menu.find('li').eq(0).text()).toContain('black');\n      expect(menu.find('li').eq(1).text()).toContain('green');\n    });\n\n    // single\n    it('should provide a dropdown button with custom label and provided button class', function () {\n      dropdown('single');\n\n      var dd = $document.find('.btn-group');\n      var menu = dd.find('ul.list.dropdown-menu');\n      var button = dd.find('button.dropdown-toggle');\n\n      expect(dd.length).toBe(1);\n      expect(button.text()).toContain('choose from the colors');\n      expect(button.attr('class')).toContain('btn btn-link');\n\n      // click on element\n      button.trigger('click');\n\n      // opens the dropdown\n      expect(dd.attr('class')).toContain('open');\n      expect(menu.length).toBe(1);\n      expect(menu.find('li').length).toBe(2);\n      expect(menu.find('li').eq(0).text()).toContain('red');\n      expect(menu.find('li').eq(1).text()).toContain('blue');\n    });\n\n    // split\n    it('should provide a split dropdown', function () {\n      dropdown('split');\n      var dd = $document.find('.btn-group');\n      expect(dd.find('button').length).toBe(2);\n      expect(dd.find('button.dropdown-toggle span.caret').length).toBe(1);\n    });\n\n    it('should provide simple dropdown when type is invalid', function () {\n      dropdown('simple-defaults');\n      var dd = $document.find('span.dropdown');\n      expect(dd.length).toBe(1);\n    });\n  });\n\n  describe('on-select', function () {\n    it('should call the onSelect method when clicked on item', function () {\n      dropdown('simple');\n      var dd = $document.find('span.dropdown');\n      var menu = dd.find('ul.list.dropdown-menu');\n      dd.find('a.dropdown-toggle').trigger('click');\n\n      // click on the first dropdown item ('black')\n      menu.find('li').eq(0).trigger('click');\n      expect($document.find('.selected').text()).toContain('You selected black');\n    });\n  });\n\n  describe('default', function () {\n    it('should select default', function () {\n      dropdown('split');\n      var label = $document.find('button:not(.dropdown-toggle)');\n      expect(label.text()).toContain('black');\n    });\n\n    it('should select default when default is function expression', function () {\n      dropdown('simple-defaults');\n      var label = $document.find('a.dropdown-toggle');\n      expect(label.text()).toContain('Some other value');\n    });\n  });\n\n  it('should accept array of elements and pass to onSelect when selected', function () {\n    dropdown('single');\n    var dd = $document.find('.btn-group');\n    var menu = dd.find('ul.list.dropdown-menu');\n    dd.find('button.dropdown-toggle').trigger('click');\n\n    // click on the first dropdown item ('red')\n    menu.find('li').eq(0).trigger('click');\n    expect($document.find('.selected').text()).toContain('You selected red');\n  });\n\n  afterEach(function () {\n    angular.element('body').empty();\n  });\n});\n","'use strict';\n\n/*!\n * sc-enter\n * Copyright(c) 2014 Madhusudhan Srinivasa <madhu@changer.nl>\n * MIT Licensed\n */\n\n/**\n * sc-enter\n *\n * Usage:\n *\n *  <input sc-enter=\"search()\" type=\"text\" ng-model=\"term\">\n */\n\nangular.module('sc-enter', [])\n\n.directive('scEnter', function () {\n  return function (scope, element, attrs) {\n    element.bind('keydown keypress', function (event) {\n      if (event.which === 13) {\n        scope.$apply(function () {\n          scope.$eval(attrs.scEnter, {\n            'event': event\n          });\n        });\n\n        event.preventDefault();\n      }\n    });\n  };\n});\n","'use strict';\n\ndescribe('sc-enter', function () {\n  var $document;\n  var scope;\n  var count = 0;\n  var triggerKeyDown = function (element, keyCode) {\n    var e = $.Event('keydown');\n    e.which = keyCode;\n    element.trigger(e);\n  };\n\n  beforeEach(module('sc-enter'));\n\n  beforeEach(inject(function ($rootScope, $compile, _$document_) {\n    $document = _$document_;\n    scope = $rootScope;\n\n    var elm = angular.element([\n      '<input sc-enter=\"do(item)\" type=\"text\" ng-model=\"term\">',\n      '<div class=\"answer\">{{ answer }}</div>'\n    ].join('\\n'));\n\n    scope.do = function (item) {\n      count = count + 1;\n      scope.answer = 'You entered ' + item.name + ' ' + count + ' times';\n    };\n\n    scope.item = {\n      id: 1,\n      name: 'test'\n    };\n\n    angular.element('body').append(elm);\n    $compile(elm)(scope);\n    scope.$digest();\n  }));\n\n  it('should call the scEnter method', function () {\n    // press enter\n    triggerKeyDown($document.find('input'), 13);\n    var answer = $document.find('.answer');\n    // console.log(angular.element('body'));\n    expect(answer.text()).toContain('You entered test 1 times');\n  });\n\n  it('should not call the scEnter when backspace is pressed', function () {\n    // press backspace\n    triggerKeyDown($document.find('input'), 8);\n    var answer = $document.find('.answer');\n    expect(answer.text()).toBe('');\n  });\n\n  it('should call the scEnter method', function () {\n    // press enter\n    triggerKeyDown($document.find('input'), 13);\n    var answer = $document.find('.answer');\n    expect(answer.text()).toContain('You entered test 2 times');\n  });\n\n  afterEach(function () {\n    angular.element('body').empty();\n  });\n});\n","'use strict';\n\n/*!\n * sc-form-input\n *\n * Simple form fields\n *\n * Usage:\n *\n *    <sc-form-input\n *      input-type=\"'text'\" // 'textarea', 'password', 'email', etc\n *      type=\"'inline'\" // default is 'normal'\n *      editable=\"mode('edit')\"\n *      required=\"bool\"\n *      autofocus=\"bool\"\n *      read-only=\"bool\"\n *      ng-model=\"field\"\n *      label=\"'firstname'\"\n *      pattern=\"//\"\n *      min-length=\"10\"\n *      max-length=\"30\"\n *      rows=\"2\"\n *      cols=\"10\"\n *      placeholder=\"'Enter your firstname'\"\n *      >\n *    </sc-form-input>\n */\n\nangular.module('sc-form-input', [])\n\n/**\n * Constants\n */\n\n.constant('scFormInputDefaults', {\n  type: 'normal',\n  inputType: 'text',\n  required: false,\n  autofocus: false,\n  readOnly: false,\n  editable: true\n})\n\n.directive('scFormInput', ['$compile', 'scFormInputDefaults', function ($compile, defaults) {\n\n  var allowed = [\n\n  ];\n\n  return {\n    restrict: 'E',\n    scope: {\n\n    },\n    link: function (scope, element, attrs) {\n      var isDefined = angular.isDefined;\n      var isFunction = angular.isFunction;\n\n      // Parse attrs\n\n      // input-type (default is text)\n\n      // type\n\n      // editable\n\n      // required\n\n      // autofocus\n\n      // read-only\n\n      // ng-model\n\n      // label\n\n      // pattern\n\n      // min-length\n\n      // max-length\n\n      // rows\n\n      // cols\n\n      // placeholder\n\n      var template = [\n        '<div class=\"form-group sc-form-group\">',\n        '  <label for=\"inputEmail3\" class=\"col-sm-2 control-label\">Email</label>'\n      ];\n\n      template = template.concat([\n        '  <div class=\"col-sm-10\">'\n      ]);\n\n      template = template.concat([\n        '    <input type=\"email\" class=\"form-control\" id=\"inputEmail3\" placeholder=\"Email\" ng-model=\"'+ attrs.ngModel +'\">'\n      ]);\n\n      template = template.concat([\n        '  </div>'\n      ]);\n\n      template = template.concat([\n        '</div>'\n      ]);\n\n      element.replaceWith($compile(template.join('\\n'))(scope));\n    }\n  };\n}])\n\n// TODO: give a provider\n","'use strict';\n\n/*!\n * sc-list\n * Copyright(c) 2014 Madhusudhan Srinivasa <madhu@changer.nl>\n * MIT Licensed\n */\n\n/**\n * sc-list\n *\n * Usage:\n *\n *    var list = new List(Item);\n *    list.fetch(); // or list.refresh();\n *    list.sort('name', -1);\n */\n\nangular.module('sc-list', [])\n\n/**\n * List defaults\n */\n\n.constant('scListDefaults', {\n  limit: 20,\n  page: 0,\n  sort_type: 1\n})\n\n.factory('scList', ['scListDefaults', function (defaults) {\n\n  /**\n   * List\n   *\n   * @param {Resource} Resource\n   * @param {Object} options\n   * @api public\n   */\n\n  function List (Resource, options) {\n    if (!Resource || Resource.prototype.constructor.name !== 'Resource') {\n      throw new Error('Resource must be an instance of $resource');\n    }\n\n    if (typeof Resource.query !== 'function') {\n      throw new Error('Resource must have a query function');\n    }\n\n    options = options || {};\n    this.options = {};\n    this.options.limit = options.limit || defaults.limit;\n    this.options.filter = options.filter;\n    this.options.page = options.page || defaults.page;\n    this.options.sort_by = options.sort_by;\n    this.options.sort_type = options.sort_type || defaults.sort_type;\n    this.Resource = Resource;\n  }\n\n  /**\n   * sort\n   *\n   * @param {String} field\n   * @param {Integer} type (1 or -1)\n   * @return {Array}\n   * @api public\n   */\n\n  List.prototype.sort = function (field, type) {\n    this.options.sort_type = parseInt(this.options.sort_type, 10) * -1;\n    return this.fetch({\n      sort_type: type * this.options.sort_type,\n      sort_by: field\n    });\n  };\n\n  /**\n   * goto\n   *\n   * @param {Number} page\n   * @return {Array}\n   * @api public\n   */\n\n  List.prototype.goto = function (page) {\n    this.options.page = parseInt(page, 10);\n    return this.fetch();\n  };\n\n  /**\n   * fetch\n   *\n   * @param {Object} options\n   * @return {Array}\n   * @api public\n   */\n\n  List.prototype.refresh =\n  List.prototype.fetch = function (options) {\n    options = options || {};\n    options.limit = options.limit || this.options.limit;\n    options.filter = options.filter || this.options.filter;\n    options.page = options.page || this.options.page;\n    options.sort_by = options.sort_by || this.options.sort_by;\n    options.sort_type = options.sort_type || this.options.sort_type;\n\n    this.options = options;\n    this.items = this.Resource.query(this.options);\n    this.$promise = this.items.$promise;\n    return this.items;\n  };\n\n  return List;\n}]);\n","'use strict';\n\ndescribe('sc-list', function () {\n  var scope;\n  var Resource;\n  var List;\n  var FakeResource;\n  var Item;\n  var httpBackend;\n  var items;\n\n  beforeEach(module('ngResource'));\n  beforeEach(module('sc-list'));\n\n  beforeEach(inject(function ($rootScope, $resource, scList, $httpBackend) {\n    scope = $rootScope;\n    Resource = $resource;\n    List = scList;\n    httpBackend = $httpBackend;\n    FakeResource = angular.noop;\n    Item = new Resource('/items');\n    items = [\n      { id: 1, name: 'item 1', age: 11 },\n      { id: 2, name: 'item 2', age: 22 },\n      { id: 3, name: 'item 3', age: 33 }\n    ];\n  }));\n\n  describe('List()', function () {\n    it('should throw when resource is not provided', function () {\n      expect(function () {\n        new List();\n      }).toThrow();\n    });\n\n    it('should throw when resource is not a resource instance', function () {\n      expect(function () {\n        new List(FakeResource);\n      }).toThrow();\n    });\n\n    it('should throw if resource doesn\\'t have a query method', function () {\n      FakeResource = new Resource('/items');\n      delete FakeResource.query;\n      expect(function () {\n        new List(FakeResource);\n      }).toThrow();\n    });\n  });\n\n  describe('list instance', function () {\n    it('should provide sort, goto, refresh and fetch methods', function () {\n      var list = new List(Item);\n      expect(list.sort).toBeDefined();\n      expect(list.goto).toBeDefined();\n      expect(list.refresh).toBeDefined();\n      expect(list.fetch).toBeDefined();\n    });\n\n    it('should set limit, page and sort_type to defaults', function () {\n      var list = new List(Item);\n      expect(list.options.limit).toBe(20);\n      expect(list.options.page).toBe(0);\n      expect(list.options.sort_type).toBe(1);\n\n      var list2 = new List(Item, {\n        limit: 10,\n        page: 2,\n        sort_type: -1\n      });\n      expect(list2.options.limit).toBe(10);\n      expect(list2.options.page).toBe(2);\n      expect(list2.options.sort_type).toBe(-1);\n    });\n  });\n\n  describe('.fetch()', function () {\n    it('should fetch items', function () {\n      var list = new List(Item);\n      var req = httpBackend.expect('GET', /\\/items/);\n      var result = list.fetch();\n      req.respond(items);\n      httpBackend.flush();\n      result = angular.toJson(result);\n      expect(result).toEqual(angular.toJson(items));\n    });\n\n    it('should assign $promise and items property when fetched', function () {\n      var list = new List(Item);\n      var req = httpBackend.expect('GET', /\\/items/);\n      list.refresh();\n      req.respond(items);\n      httpBackend.flush();\n      expect(list.items).toBeDefined();\n      expect(list.items.length).toBe(3);\n      expect(list.$promise).toBeDefined();\n    });\n  });\n\n  describe('.sort() and options.filter', function () {\n    it('should set proper query params', function () {\n      var list = new List(Item, { filter: 'ite', sort_type: -1 });\n      var req = httpBackend.expect('GET', /\\/items/);\n      list.sort('age', 1);\n      req.respond(function (method, url) {\n        expect(url).toContain('filter=ite');\n        expect(url).toContain('sort_type=1');\n        expect(url).toContain('sort_by=age');\n        return items;\n      });\n      httpBackend.flush();\n      expect(list.options.sort_by).toBe('age');\n      expect(list.options.sort_type).toBe(1);\n      expect(list.options.filter).toBe('ite');\n    });\n  });\n\n  describe('.goto()', function () {\n    it('should set page param', function () {\n      var list = new List(Item, { filter: 'ite', sort_type: -1 });\n      var req = httpBackend.expect('GET', /\\/items/);\n      list.goto(2);\n      req.respond(function (method, url) {\n        expect(url).toContain('page=2');\n        return items;\n      });\n      httpBackend.flush();\n      expect(list.options.page).toBe(2);\n    });\n  });\n});\n","'use strict';\n\n/*!\n * sc-listing\n * Copyright(c) 2014 Madhusudhan Srinivasa <madhu@changer.nl>\n * MIT Licensed\n */\n\n/**\n * sc-listing\n *\n * Usage:\n *\n *  <listing\n *    items=\"items\"\n *    on-item-click=\"showItem\"\n *    class=\"'items'\"\n *    item-class=\"'item'\"\n *    template-url=\"'/templates/list-item.html'\">\n *  </listing>\n *\n * it also takes `template` as an attribute which is just a template string\n */\n\nangular.module('sc-listing', [])\n\n.directive('scListing', function ($compile, $http, $q, $templateCache) {\n  return {\n    restrict: 'E',\n    scope: {\n      items: '='\n    },\n    link: function (scope, element, attrs) {\n      var isDefined = angular.isDefined;\n      var deferred = $q.defer();\n      var promise = deferred.promise;\n      var classes = ['list'];\n      var itemClass = ['list-item'];\n      var template;\n      var templateUrl;\n\n      // Parse attrs\n\n      // on-item-click\n      if (isDefined(attrs.onItemClick)) {\n        scope.onItemClick = scope.$parent.$eval(attrs.onItemClick);\n      }\n\n      // template and template-url\n      if (isDefined(attrs.template)) {\n        template = scope.$parent.$eval(attrs.template);\n        deferred.resolve(template);\n      } else if (isDefined(attrs.templateUrl)) {\n        templateUrl = scope.$parent.$eval(attrs.templateUrl);\n        $http.get(templateUrl, { cache: $templateCache })\n          .success(function (html) {\n            deferred.resolve(html);\n          })\n          .error(deferred.reject);\n      } else {\n        deferred.resolve('');\n      }\n\n      // class\n      if (isDefined(attrs.class)) {\n        classes.push(attrs.class);\n      }\n\n      // item-class\n      if (isDefined(attrs.itemClass)) {\n        itemClass.push(scope.$parent.$eval(attrs.itemClass));\n      }\n\n      classes = classes.join(' ');\n      itemClass = itemClass.join(' ');\n\n      promise.then(function (tpl) {\n        tpl = tpl || '{{ item | json }}';\n\n        var template = [\n          '<ul class=\"'+ classes +'\">',\n          '  <li class=\"'+ itemClass +'\" ng-repeat=\"item in items\" ng-click=\"onItemClick(item, $index)\">',\n          '    '+ tpl,\n          '  </li>',\n          '</ul>'\n        ].join('');\n\n        element.replaceWith($compile(template)(scope));\n      });\n    }\n  };\n});\n\n// TODO: give a provider to override defaults\n","'use strict';\n\ndescribe('sc-listing', function () {\n  var $document;\n  var scope;\n  var compile;\n  var templateCache;\n\n  beforeEach(module('ui.bootstrap'));\n  beforeEach(module('sc-listing'));\n  beforeEach(module(\n    'src/listing/template.html',\n    'src/listing/template-url.html',\n    'src/listing/no-template.html',\n    'src/listing/list-item.html'\n  ));\n\n  beforeEach(inject(function ($rootScope, $compile, _$document_, $templateCache) {\n    $document = _$document_;\n    scope = $rootScope;\n    compile = $compile;\n    templateCache = $templateCache;\n\n    var items = [];\n    for (var i = 0; i < 10; i++) {\n      items.push({\n        id: i,\n        name: 'item ' + i,\n        description: 'bla bla bla '+ i,\n        age: Math.floor(Math.random() * 100)\n      });\n    }\n\n    scope.items = items;\n    scope.tplPath = 'src/listing/list-item.html';\n    scope.tpl = '<span>{{ item.name }}</span>';\n    scope.showItem = function (item, index) {\n      scope.index = index;\n      scope.item = item;\n    };\n  }));\n\n  function setup (type) {\n    var tpl = templateCache.get('src/listing/' + type + '.html');\n    var elm = angular.element(tpl);\n    angular.element('body').append(elm);\n    compile(elm)(scope);\n    scope.$digest();\n  }\n\n  describe('template-url', function () {\n    it('should list the items', function () {\n      setup('template-url');\n      var listing = $document.find('ul.list');\n      var li = listing.find('li');\n      expect(listing.length).toBe(1);\n      expect(li.length).toBe(10);\n      expect(li.eq(0).text()).toContain('item 0');\n      expect(li.eq(0).text()).toContain('age');\n    });\n\n    it('should use the provided template-url for the list item', function () {\n      setup('template-url');\n      var li = $document.find('ul.list li').eq(0);\n      expect(li.attr('class')).toContain('list-item');\n      expect(li.find('strong').length).toBe(1);\n    });\n  });\n\n  describe('template', function () {\n    it('should use a template string for the list item', function () {\n      setup('template');\n      var li = $document.find('ul.list li').eq(0);\n      expect(li.find('span').length).toBe(1);\n    });\n  });\n\n  it('should spit the json when no template or template-url is provided', function () {\n    setup('no-template');\n    var li = $document.find('ul.list li').eq(0);\n    expect(li.html()).toContain('{');\n  });\n\n  describe('on-item-click', function () {\n    it('should call the on-item-click method when clicked on li', function () {\n      setup('template');\n      var li = $document.find('ul.list li');\n      // click on the 9th element in the list\n      li.eq(8).trigger('click');\n      var selected = $document.find('.selected');\n      expect(selected.find('.name').text()).toBe('item 8');\n      expect(selected.find('.age').text()).toBeTruthy();\n      expect(selected.find('.description').text()).toBe('bla bla bla 8');\n      expect(selected.find('.id').text()).toBe('8');\n    });\n  });\n\n  describe('class and item-class', function () {\n    it('should apply the provided class and item-class', function () {\n      setup('template');\n      var ul = $document.find('ul.list');\n      var li = ul.find('li');\n      expect(ul.attr('class')).toContain('items');\n      expect(li.eq(0).attr('class')).toContain('item');\n    });\n  });\n\n  afterEach(function () {\n    angular.element('body').empty();\n  });\n});\n"],"sourceRoot":"/source/"}